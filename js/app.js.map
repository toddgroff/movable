{"version":3,"sources":["app.js","initial-page.js","move-items.js","reorder-items.js","init.js"],"names":["app","showInitialPage","reorderItems","moveItems","$","mousedown","e","moveItem","item","css","top","pageY","shiftY","left","pageX","shiftX","stopTracking","off","this","position","on","assignNumbers","each","index","text","preventTextSelection","preventDefault","shouldMoveUp","y","offset","prev","shouldMoveDown","next","height","reorder","insertBefore","insertAfter","stopReordering","itemSlide","removeClass","document","children","addClass"],"mappings":"AACA,GAAAA,OCDAA,KAAAC,gBAAA,WACAD,IAAAE,eAEAF,IAAAG,aCFAH,IAAAG,UAAA,WAEAC,EAAA,cAAAC,UAAA,SAAAC,GAmBA,QAAAC,GAAAD,GAGAE,EAAAC,KACAC,IAAAJ,EAAAK,MAAAC,EACAC,KAAAP,EAAAQ,MAAAC,IAKA,QAAAC,KACAZ,EAAA,QAAAa,IAAA,YAAAV,GACAH,EAAA,QAAAa,IAAA,UAAAD,GA7BA,GAAAR,GAAAJ,EAAAc,MAGAC,EAAAX,EAAAW,WAIAJ,EAAAT,EAAAQ,MAAAK,EAAAN,KACAD,EAAAN,EAAAK,MAAAQ,EAAAT,GAGAN,GAAA,QAAAgB,GAAA,YAAAb,GAGAH,EAAA,QAAAgB,GAAA,UAAAJ,MClBAhB,IAAAE,aAAA,WAEA,QAAAmB,KACAjB,EAAA,iBAAAkB,KAAA,SAAAC,EAAAf,GACAJ,EAAAI,GAAAgB,KAAAD,EAAA,KAYAF,IAGAjB,EAAA,gBAAAC,UAAA,WAiBA,QAAAoB,GAAAnB,GACAA,EAAAoB,iBAKA,QAAAC,GAAAC,GACA,GAAAC,GAAArB,EAAAsB,OAAAD,QAEA,OAAAA,IAAAA,EAAAnB,IAAAkB,EAGA,QAAAG,GAAAH,GACA,GAAAI,GAAAxB,EAAAwB,OACAH,EAAAG,EAAAH,QAEA,OAAAA,IAAAA,EAAAnB,IAAAsB,EAAAC,SAAAL,EAIA,QAAAM,GAAA5B,GAOA,MANAqB,GAAArB,EAAAK,OACAH,EAAA2B,aAAA3B,EAAAsB,QACAC,EAAAzB,EAAAK,QACAH,EAAA4B,YAAA5B,EAAAwB,SAGA,EAIA,QAAAK,KACAC,EAAAC,YAAA,cAEAlB,IACAjB,EAAA,QAAAa,IAAA,UAAAoB,GACAjC,EAAA,QAAAa,IAAA,YAAAiB,GACA9B,EAAAoC,UAAAvB,IAAA,wBAAAQ,GArDA,GAAAjB,GAAAJ,EAAAc,MACAoB,EAAA9B,EAAAiC,SAAA,aAGAH,GAAAI,SAAA,cAGAtC,EAAAoC,UAAApB,GAAA,wBAAAK,GAGArB,EAAA,QAAAgB,GAAA,YAAAc,GAGA9B,EAAA,QAAAgB,GAAA,UAAAiB,MClCArC,IAAAC,kBAEAD,IAAAE,eAEAF,IAAAG","file":"app.js","sourcesContent":["// The namespace for this application\nvar app = {};\n","app.showInitialPage = function () {\n    app.reorderItems();\n\n    app.moveItems();\n};\n","//drag items on mousedown within the bounds of a parent div\napp.moveItems = function () {\n  // When our draggable item is clicked:\n  $('.draggable').mousedown(function (e) {\n    // get draggable item\n    var item = $(this);\n\n    // Get item's position\n    var position = item.position();\n\n    // make up for the difference between the position of the\n    //cursor on mousedown and the top left corner of the item\n    var shiftX = e.pageX - position.left;\n    var shiftY = e.pageY - position.top;\n\n    // drag the item on mousemove\n    $('body').on('mousemove', moveItem);\n\n    // drop the item on mouseup\n    $('body').on('mouseup', stopTracking);\n\n    // defines moving item\n    function moveItem(e) {\n        // Set the item's top and left coordinate\n        // based on the mouse position\n        item.css({\n            top: e.pageY - shiftY,\n            left: e.pageX - shiftX\n        });\n    }\n\n    // unbind our mouse-events\n    function stopTracking() {\n        $('body').off('mousemove', moveItem);\n        $('body').off('mouseup', stopTracking);\n    }\n  });\n};\n","//function for allowing items in list to be reordered drag and drop style\napp.reorderItems = function () {\n//assign values to each slide item and cause it to update when reordered\n    function assignNumbers() {\n        $('.slide-number').each(function(index, item) {\n            $(item).text(index + 1);\n        });\n    }\n    //another way to write the above:\n    // function assignNumbers() {\n    //     var index = 1;\n    //     $('.slide-number').each(function(){\n    //         $(this).text(index);\n    //         index++;\n    //     });\n    // }\n\n    assignNumbers();\n\n    //bind events to the mousedown of certain elements\n    $('.reorderable').mousedown(function(e) {\n        var item = $(this);\n        var itemSlide = item.children('.thumbnail')\n\n        //add a class to the item that we've grabbed\n        itemSlide.addClass('reordering');\n\n        //Disallow text selection while dragging to prevent weird behavior\n        $(document).on('selectstart dragstart', preventTextSelection);\n\n        //continue reordering when mouse is moving\n        $('body').on('mousemove', reorder);\n\n        //end reordering when mouse up\n        $('body').on('mouseup', stopReordering);\n\n    //prevents text selection\n    function preventTextSelection(e) {\n        e.preventDefault();\n    }\n\n    //assess the position of mouse relative to the top/bottom of //the items above/below\n    //return whether an item should move positions\n    function shouldMoveUp (y) {\n        var offset = item.prev().offset();\n\n        return offset && offset.top > y;\n    }\n\n    function shouldMoveDown (y) {\n        var next = item.next();\n        var offset = next.offset();\n\n        return offset && offset.top + next.height() < y;\n    }\n\n    //use the shouldMoveUp and shouldMoveDown functions to change order of items\n    function reorder(e) {\n        if (shouldMoveUp(e.pageY)) {\n            item.insertBefore(item.prev());\n        } else if (shouldMoveDown(e.pageY)) {\n            item.insertAfter(item.next());\n        }\n\n        return false;\n    }\n\n    //end the dragging of elements and get clear event binders\n    function stopReordering() {\n        itemSlide.removeClass('reordering');\n\n        assignNumbers();\n        $('body').off('mouseup', stopReordering);\n        $('body').off('mousemove', reorder);\n        $(document).off('selectstart dragstart', preventTextSelection);\n        }\n    });\n};\n","app.showInitialPage();\n\napp.reorderItems();\n\napp.moveItems();\n"],"sourceRoot":"/source/"}